"use strict";$(document).ready((function(){console.time("tiempo");firebase.initializeApp({apiKey:"AIzaSyDZPvhThHsK7tG0kxwZ47q7XRMlE8AaZn0",authDomain:"projectf1834543.firebaseapp.com",databaseURL:"https://projectf1834543.firebaseio.com",projectId:"projectf1834543",storageBucket:"",messagingSenderId:"446281075829",appId:"1:446281075829:web:002598c4a1b1c00d"});let e=firebase.firestore(),o=$(".tareas");firebase.auth().onAuthStateChanged(()=>{let e=firebase.auth().currentUser;if(null!==e){$(".inserForm").remove();let o=e.email;console.log(o),$(".sesionAc").slideToggle(),$(".inserForm").remove()}else console.log("Sesión inactiva"),$(".inserForm").slideToggle(),$(".sesionAc").remove()}),$(".iniSesion").click(e=>{e.preventDefault();let o=$("#usuario").val(),t=$("#contra").val();var a,r;""===o&&""===t?console.log("Campos vacios"):(a=o,r=t,firebase.auth().signInWithEmailAndPassword(a,r).then(()=>{console.log("Sesión activa")}).catch(()=>{console.log("Por favor iniciar sesión")}))}),$(".iconAdd").on("click",(function(){let o={borderColor:"rgb(231, 76, 60)"},t={borderColor:"rgb(41, 128, 185)"},a={borderColor:"rgba(44, 62, 80, .5"},r={selector:$("#entrada"),valor:$("#entrada").val()};var s;""===r.valor?(r.selector.attr("placeholder","Campo obligatorio").addClass("error mover").css(o).on({focus:function(){$(this).css(t).attr("placeholder","Ingresar tarea").removeClass("error mover")},blur:function(){$(this).css(a)}}),setTimeout(()=>{r.selector.removeClass("mover")},500)):(s=r.valor,e.collection("tasks").add({nombre:s.trim().toLowerCase(),estado:"incompleto",fecha:firebase.firestore.FieldValue.serverTimestamp()}).then(e=>{console.log("Document written with ID: ",e.id)}).catch(e=>{console.error("Error adding document: ",e)}),r.selector.val(""))})),e.collection("tasks").orderBy("fecha","desc").onSnapshot(e=>{o.html(""),e.forEach(e=>{let t=e.data().nombre,a=e.id,r=e.data().estado;o.append(function(e,o,t){let a="",r="";return"completo"===t&&(a="verde",r="raya"),`<div id="${e}" estado="${t}">\n              <p class="titulo ${r}">${o}</p>\n              <i class="ok fas fa-check-circle ${a}"></i>\n\t\t\t\t\t  </div>`}(a,t,r))})}),o.on("click",".ok",(function(o){o.preventDefault(),o.stopPropagation(),$(this).toggleClass("verde").prev(".titulo").toggleClass("raya");let t=$(this).parent("div").attr("id");e.collection("tasks").doc(t).update({estado:"completo"}).then(()=>{console.log("Tarea completa")})})),console.timeEnd("tiempo")}));
//# sourceMappingURL=code.min.js.map